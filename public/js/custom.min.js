(function () {
    "use strict";
    var Tabledropdown = function () {
        var e = $('.table-dropdown')
        // hold onto the drop down menu
        var dropdownMenu;

        // and when you show it, move it to the body
        $(window).on('show.bs.dropdown', function (e) {

            if ($(e.target).parents('table').length) {
                // grab the menu
                dropdownMenu = $(e.target).find('.dropdown-menu');
                // detach it and append it to the body
                $('body').append(dropdownMenu.detach());

                // grab the new offset position
                var eOffset = $(e.target).offset();

                // make sure to place it where it would normally go (this could be improved)
                dropdownMenu.css({
                    'display': 'block',
                    'top': eOffset.top + $(e.target).outerHeight(),
                    'left': eOffset.left - 50
                });
            }
        });



        // and when you hide it, reattach the drop down, and hide it normally
        $(window).on('hide.bs.dropdown', function (e) {
            if ($(e.target).parents('table').length) {
                $(e.target).append(dropdownMenu.detach());
                dropdownMenu.hide();
            }
        });
    }();
    var validation = function (form) {
        form.addEventListener(
            "submit",
            function (event) {
                console.log(form)
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add("was-validated");
            },
            false
        );
    };
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName("needs-validation");
    // Loop over them and prevent submission
    Array.prototype.filter.call(forms, function (form) {
        validation(form);
    });
})();
