(function () {
    "use strict";
    var languages, lang, __ = (t) => {
        return window.languages[t] ?? t;
    }

    var Tabledropdown = function () {
        var e = $('.table-dropdown')
        // hold onto the drop down menu
        var dropdownMenu;

        // and when you show it, move it to the body
        $(window).on('show.bs.dropdown', function (e) {

            if ($(e.target).parents('table').length) {
                // grab the menu
                dropdownMenu = $(e.target).find('.dropdown-menu');
                // detach it and append it to the body
                $('body').append(dropdownMenu.detach());

                // grab the new offset position
                var eOffset = $(e.target).offset();

                // make sure to place it where it would normally go (this could be improved)
                dropdownMenu.css({
                    'display': 'block',
                    'top': eOffset.top + $(e.target).outerHeight(),
                    'left': eOffset.left - 50
                });
            }
        });



        // and when you hide it, reattach the drop down, and hide it normally
        $(window).on('hide.bs.dropdown', function (e) {
            if ($(e.target).parents('table').length) {
                $(e.target).append(dropdownMenu.detach());
                dropdownMenu.hide();
            }
        });
    }();
    var validation = function (form) {
        form.addEventListener(
            "submit",
            function (event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                    if ($.notify)
                        $.notify({
                            icon: 'fal fa-times-circle',
                            message: __('Unsuccessfully'),
                            url: ""
                        }, {
                            element: "body",
                            type: 'danger',
                            placement: {
                                from: 'top',
                                align: 'right'
                            },
                            offset: {
                                x: 15,
                                y: 15
                            },
                            delay: 2500,
                            url_target: "_blank",
                            template: '<div data-notify="container" class="alert alert-dismissible alert-{0} alert-notify w-auto" role="alert"><span class="alert-icon" data-notify="icon"></span> <div class="alert-text"</div> <span class="alert-title" data-notify="title">{1}</span> <span data-notify="message">{2}</span></div><button type="button" class="close" data-notify="dismiss" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'
                        });
                }
                form.classList.add("was-validated");
            },
            false
        );
    };
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName("needs-validation");
    // Loop over them and prevent submission
    Array.prototype.filter.call(forms, function (form) {
        validation(form);
    });
})();
